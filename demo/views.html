<!DOCTYPE html>
<html>
  <head>
    <title>Ribs observable</title>
  </head>
  <body>
    <p>bind to model, update on keyup</p>
    <input data-bind="data:car:color, view:InputView" type="text" name="text1" value="" />
    <input data-bind="data:car:color, view:InputView" type="text" name="text1" value="" />

    <div data-bind="data:car:color, view:TextView"></div>

    <input type="radio" data-bind="data:car:visible, view:RadioView" name="radio" value="true" />
    <input type="radio" data-bind="data:car:visible, view:RadioView" name="radio" value="false" />

    <input type="checkbox" data-bind="data:car:visible, view:CheckboxView" name="checkbox" value="true" />

    <div data-bind="data:car:visible, view:Toggable">
      visible!
    </div>
    <br />
    <select data-bind="data:cars:color, view:SelectView"></select>
    <br />
    <script src="../vendor/jquery.js"></script>
    <script src="../vendor/underscore.js"></script>
    <script src="../vendor/backbone.js"></script>
    <script src="../src/ribs.js"></script>
    <script src="../src/binding.js"></script>
    <script src="../src/declaration.js"></script>
    <script src="../src/views/view.js"></script>
    <script src="../src/views/input_view.js"></script>
    <script src="../src/views/text_view.js"></script>
    <script src="../src/views/checkbox_view.js"></script>
    <script src="../src/views/radio_view.js"></script>
    <script src="../src/views/select_view.js"></script>
    <script src="../src/scanner.js"></script>
    <script>

      var Car = Backbone.Model.extend({
        collection: Cars,
        initialize: function () {
          this.set({visible: false});
        }
      });

      var Cars = Backbone.Collection.extend({
        model: Car
      });

      var cars = new Cars();
      cars.add([{color: "green"}, {color: "blue"}, {color: "yellow"}]);
      var car = new Car();
      car.set({color: "red"});
      cars.add(car);

      var Toggable = Ribs.View.extend({
        _updateView: function () {
          this.el.toggle(this.model.get('visible'));
        }
      });

      $(function () {
        Ribs();
        setTimeout(function () {
          car.set({color: "red", visible: true});
        }, 100);
      });
    </script>
  </body>
</html>
